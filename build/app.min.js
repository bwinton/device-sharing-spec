/*! loop-react 22-05-2014 */
!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);throw new Error("Cannot find module '"+g+"'")}var j=c[g]={exports:{}};b[g][0].call(j.exports,function(a){var c=b[g][1][a];return e(c?c:a)},j,j.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a){_users=a("./models/users.js"),STRINGS=a("./models/strings.js"),Utils=a("./utils/utils.js"),getTimeFromRange=Utils.getTimeFromRange,TableOfContents=a("./views/TableOfContents.jsx"),PrecallNotSignedIn=a("./views/PrecallNotSignedIn.jsx"),PrecallNotSignedInQuick=a("./views/PrecallNotSignedInQuick.jsx"),PrecallNotSignedInFirstRun=a("./views/PrecallNotSignedInFirstRun.jsx"),PrecallSignedIn=a("./views/PrecallSignedIn.jsx"),PrecallSignedInQuick=a("./views/PrecallSignedInQuick.jsx"),CallHistory=a("./views/CallHistory.jsx"),InvitationManagement=a("./views/InvitationManagement.jsx"),InCallActive=a("./views/InCallActive.jsx"),InCallActiveAudio=a("./views/InCallActiveAudio.jsx"),ContactsDocked=a("./views/ContactsDocked.jsx"),ContactsView=a("./views/ContactsView.jsx"),IncomingCallView=a("./views/IncomingCallView.jsx"),OutgoingCallView=a("./views/OutgoingCallView.jsx"),moment.lang("en",{calendar:{lastDay:"[Yesterday at] LT",sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",lastWeek:"l [at] LT",nextWeek:"l [at] LT",sameElse:"L"}});var b=[{name:"Precall (First Run)",view:PrecallNotSignedInFirstRun,tab:0,slug:"precall-firstrun"},{name:"Precall (Not Signed In)",view:PrecallNotSignedInQuick,tab:0,slug:"precall"},{name:"Precall (Signed In)",view:PrecallSignedInQuick,tab:0,slug:"precall-signedin"},{name:"Contacts",view:ContactsView,tab:2,slug:"contacts"},{name:"Call History",view:CallHistory,tab:1,slug:"callhistory"},{name:"In Call (Video)",view:InCallActive,tab:1,slug:"call-active"},{name:"In Call (Audio)",view:InCallActiveAudio,tab:1,slug:"call-active-audio"},{name:"Incoming Call",view:IncomingCallView,tab:1,slug:"call-incoming"},{name:"Outgoing Call",view:OutgoingCallView,tab:1,slug:"call-outgoing"}];setTimeout(function(){React.renderComponent(TableOfContents({items:b}),$("#toc")[0]),_.each(b,function(a,b){var c=$("<div/>",{"class":"component-wrapper",id:a.slug})[0];$("#wrapper").append(c);var d=a.view;React.renderComponent(d({items:_users,index:b,tab:a.tab,name:a.name}),c),$(".tip").tipr({mode:"top",speed:200}),$(".TableOfContents").ddscrollSpy({scrollduration:0})})},100)},{"./models/strings.js":2,"./models/users.js":3,"./utils/utils.js":5,"./views/CallHistory.jsx":13,"./views/ContactsDocked.jsx":14,"./views/ContactsView.jsx":15,"./views/InCallActive.jsx":20,"./views/InCallActiveAudio.jsx":21,"./views/IncomingCallView.jsx":23,"./views/InvitationManagement.jsx":25,"./views/OutgoingCallView.jsx":29,"./views/PrecallNotSignedIn.jsx":32,"./views/PrecallNotSignedInFirstRun.jsx":33,"./views/PrecallNotSignedInQuick.jsx":34,"./views/PrecallSignedIn.jsx":35,"./views/PrecallSignedInQuick.jsx":36,"./views/TableOfContents.jsx":43}],2:[function(a,b){b.exports={viewAccount:"View Account",signIn:"Sign In",signOut:"Sign Out",changeUsername:"Change",loggedInUsername:"ally@gmail.com",loggedOutUsername:"Guest",newCallButton:"New Invitation",callingAs:"Calling as",searchPlaceholder:"Search...",getLinkText:"Get Link",callNamePlaceholder:"Orange Prickly Badger",inviteExpireIn:"Invitation will expire in",sampleCallURL:"http://loop.dev.mozaws.net/calls/IRzK5l843AxgKTorMKh7XmhR0QzkSNvuVJVD7ZWpeYjzVWe6BhRPYfd6M5mdTDguvP0QXO0pnd-Ac23-ufDtoKUkvaIUZ8FSo5AHU0FBXqwtO6_ZFSwL1mX3brGHICs6xfCfJ6X0zRVRR-bzM7Bg9glFAIo",shareThisLinkWith:"Share this link with",contactManagement:"Add or Import Contacts",callHistory:"Call History",clearHistory:"Clear",invitationList:"Your Invitations",expired:"Expired",endCall:"Hang Up"}},{}],3:[function(a,b){b.exports=[{name:"Ally Avocado",email:"ally@mail.com",index:0,isGoogle:!0},{name:"Bob Banana",email:"bob@gmail.com",index:1,isGoogle:!1},{name:"Caitlin Cantaloupe",email:"caitlin.cant@hotmail.com",index:2,isGoogle:!1},{name:"Dave Dragonfruit",email:"dd@dragons.net",index:3,isGoogle:!0},{name:"Ellie Eggplant",email:"ellie@yahoo.com",index:4,isGoogle:!0}]},{}],4:[function(a,b){b.exports={animation:{duration:200,easing:"easeInSine",queue:!1}}},{}],5:[function(a,b){b.exports={getTimeFromRange:function(a){var b=1,c=100,d=Math.log(60),e=Math.log(44640),f=(e-d)/(c-b),g=Math.exp(d+f*(a-b)),h=moment.duration(g,"minutes");if(h.asMinutes()>1440){var i=parseInt(h.asDays(),10),j=i>1?"s":"";return i+" day"+j}var i=parseInt(h.asHours(),10)+1,j=i>1?"s":"";return i+" hour"+j}}},{}],6:[function(a,b){CallControls=a("./CallControls.jsx"),b.exports=React.createClass({displayName:"exports",render:function(){return React.DOM.div({className:"AudioCall"},CallControls(null),React.DOM.div({className:"AudioScreen"}))}})},{"./CallControls.jsx":12}],7:[function(a,b){b.exports=React.createClass({displayName:"exports",render:function(){return React.DOM.div({onClick:this.props.onClick,className:"BackButton"},React.DOM.i({className:"fa fa-chevron-left"}))}})},{}],8:[function(a,b){b.exports=React.createClass({displayName:"exports",getDefaultProps:function(){return{name:"Base State",children:[],index:1}},render:function(){return React.DOM.div({className:"StateWrapper"},React.DOM.h3({className:"higher"},React.DOM.span({className:"counter"},this.props.index+1)," ",this.props.name),React.DOM.div({className:"Toolbar"},React.DOM.i({className:"fa fa-comment-o"})),React.DOM.div({className:"PanelWrapper"},this.props.children))}})},{}],9:[function(a,b){b.exports=React.createClass({displayName:"exports",getDefaultProps:function(){return{name:"Base State",children:[],index:1}},render:function(){return React.DOM.div({className:"StateWrapper"},React.DOM.h3(null,React.DOM.span({className:"counter"},this.props.index+1)," ",this.props.name),React.DOM.div({className:"Browser"},React.DOM.div({className:"WindowWrapper"},this.props.children)))}})},{}],10:[function(a,b){SearchBar=a("./SearchBar.jsx"),Profile=a("./Profile.jsx"),ProfileDetail=a("./ProfileDetail.jsx"),Button=a("./Button.jsx"),Defaults=a("../utils/defaults"),b.exports=React.createClass({displayName:"exports",getInitialState:function(){return{filterText:"",selectedIndex:-1,isOpen:!1}},handleChange:function(){this.setState({filterText:this.refs.filterSearchBar.refs.searchInput.getDOMNode().value,selectedIndex:0})},openPanel:function(){$(this.refs.listSlider.getDOMNode()).velocity({translateX:"-50%"},Defaults.animation)},closePanel:function(){$(this.refs.listSlider.getDOMNode()).velocity({translateX:"0"},Defaults.animation)},togglePanel:function(){this.setState({isOpen:!this.state.isOpen}),this.state.isOpen?this.closePanel():this.openPanel()},render:function(){var a=function(a){this.setState({selectedIndex:a})}.bind(this),b=function(b,c){var d=this.state.selectedIndex===c?"selected":null;return this.props.detail?ProfileDetail({onClickEdit:this.togglePanel,onClick:a,key:c,user:b,selected:d}):Profile({onClickEdit:this.togglePanel,onClick:a,key:c,user:b,selected:d})}.bind(this),c=this.props.items;if(""!==this.state.filterText){var d=this.state.filterText.toUpperCase();c=_.filter(this.props.items,function(a){return-1!==a.name.toUpperCase().indexOf(d)})}var e=this.props.items[this.state.selectedIndex]||{name:"",email:""};return React.DOM.div({ref:"listSlider",className:"ListPanels"},React.DOM.div({className:"List "+(this.props.faded?"faded":"")},SearchBar({isOpen:this.state.isOpen,onClick:this.togglePanel,ref:"filterSearchBar",val:this.state.filterText,handleChange:this.handleChange}),React.DOM.ul({className:"scrollable"},c.map(b))),React.DOM.div({className:"EditContact"},React.DOM.div({className:"Header"},"Edit Contact"),React.DOM.div({className:"Form"},React.DOM.label(null,"Name"),React.DOM.input({defaultValue:e.name}),React.DOM.label(null,"Email"),React.DOM.input({defaultValue:e.email}),Button({text:"Done",onClick:this.togglePanel,style:"action"}))))}})},{"../utils/defaults":4,"./Button.jsx":11,"./Profile.jsx":37,"./ProfileDetail.jsx":38,"./SearchBar.jsx":39}],11:[function(a,b){b.exports=React.createClass({displayName:"exports",render:function(){return React.DOM.div({onClick:this.props.onClick,className:"Button "+this.props.style},this.props.text)}})},{}],12:[function(a,b){b.exports=React.createClass({displayName:"exports",render:function(){return React.DOM.div({className:"CallControls"},React.DOM.i({className:"button end fa fa-phone"}),React.DOM.i({className:"button active fa fa-video-camera"}),React.DOM.i({className:"button fa fa-volume-up"}),React.DOM.i({className:"button fa fa-microphone-slash"}),React.DOM.span({className:"right"},"2:45"))}})},{}],13:[function(a,b){BaseState=a("./BaseState.jsx"),TabBar=a("./TabBar.jsx"),Panel=a("./Panel.jsx"),HistoryList=a("./HistoryList.jsx"),b.exports=React.createClass({displayName:"exports",render:function(){return BaseState({name:this.props.name,index:this.props.index},TabBar({selected:this.props.tab}),Panel({items:this.props.items},HistoryList(null)))}})},{"./BaseState.jsx":8,"./HistoryList.jsx":19,"./Panel.jsx":30,"./TabBar.jsx":42}],14:[function(a,b){BaseStateCorner=a("./BaseStateCorner.jsx"),BuddyList=a("./BuddyList.jsx"),Window=a("./Window.jsx"),b.exports=React.createClass({displayName:"exports",render:function(){return BaseStateCorner({name:this.props.name,index:this.props.index},Window({items:this.props.items,title:"Contacts"},BuddyList({items:this.props.items})))}})},{"./BaseStateCorner.jsx":9,"./BuddyList.jsx":10,"./Window.jsx":45}],15:[function(a,b){BaseState=a("./BaseState.jsx"),TabBar=a("./TabBar.jsx"),Panel=a("./Panel.jsx"),HeaderQuick=a("./HeaderQuick.jsx"),Footer=a("./Footer.jsx"),NewCallView=a("./NewCallView.jsx"),b.exports=React.createClass({displayName:"exports",mixins:[React.addons.LinkedStateMixin],getInitialState:function(){return{isVisible:!1}},openView:function(){$(this.refs.newContactView.getDOMNode()).css({display:"flex"})},closeView:function(){$(this.refs.newContactView.getDOMNode()).hide()},toggleView:function(){this.setState({isVisible:!this.state.isVisible}),this.state.isVisible?this.closeView():this.openView()},componentDidMount:function(){this.closeView()},addContact:function(){if(this.toggleView(),this.setState({name:"",email:""}),this.state.name&&this.state.email){var a={name:this.state.name,email:this.state.email};this.props.items.push(a)}},render:function(){return BaseState({name:this.props.name,index:this.props.index},TabBar({selected:this.props.tab}),Panel({extraClass:"Contacts",items:this.props.items},React.DOM.div({className:"ContactManagement"},React.DOM.div({className:"Header"},React.DOM.div(null,STRINGS.contactManagement)),React.DOM.div({className:"ContactManagementView"},React.DOM.div({className:"ButtonGroup"},Button({text:"Import Contacts",style:"default"}),Button({text:"New Contact",onClick:this.toggleView,style:this.state.isVisible?"default-active":"default"})),React.DOM.div({className:"NewContactView",ref:"newContactView"},React.DOM.hr(null),React.DOM.input({valueLink:this.linkState("name"),placeholder:"Name"}),React.DOM.input({valueLink:this.linkState("email"),placeholder:"Email"}),React.DOM.div({className:"ButtonGroup"},Button({onClick:this.addContact,text:"Add Contact",style:"action"}))))),BuddyList({faded:this.state.isVisible?!0:!1,items:this.props.items,detail:"true"}),Footer({linkText:STRINGS.signOut,username:STRINGS.loggedInUsername})))}})},{"./BaseState.jsx":8,"./Footer.jsx":16,"./HeaderQuick.jsx":18,"./NewCallView.jsx":26,"./Panel.jsx":30,"./TabBar.jsx":42}],16:[function(a,b){b.exports=React.createClass({displayName:"exports",mixins:[React.addons.LinkedStateMixin],getInitialState:function(){return{isDropdownVisible:!1,currentIcon:"fa-circle",name:this.props.username,isEditing:!1}},onClick:function(){this.state.isDropdownVisible?$(this.refs.statusDropdown.getDOMNode()).hide():$(this.refs.statusDropdown.getDOMNode()).show(),this.setState({isDropdownVisible:!this.state.isDropdownVisible})},setIcon:function(a){$(this.refs.statusDropdown.getDOMNode()).hide(),this.setState({currentIcon:a.currentTarget.dataset.icon,isDropdownVisible:!1})},hideDropdown:function(){$(this.refs.statusDropdown.getDOMNode()).hide(),this.setState({isDropdownVisible:!1})},toggleInput:function(){this.setState({isEditing:!this.state.isEditing}),$(this.refs.inputBox.getDOMNode()).focus()},checkKey:function(a){13===a.keyCode&&this.setState({isEditing:!1})},render:function(){var a={display:this.state.isEditing?"none":"block"},b={display:this.state.isEditing?"block":"none"};return React.DOM.div({className:"Footer",onMouseLeave:this.hideDropdown},React.DOM.div(null,React.DOM.div({onClick:this.onClick,className:"status-icon"},React.DOM.i({className:"fa "+this.state.currentIcon})),React.DOM.ul({ref:"statusDropdown",onMouseLeave:this.hideDropdown,className:"Dropdown"},React.DOM.li({onClick:this.setIcon,"data-icon":"fa-circle"},React.DOM.i({className:"fa fa-circle"}),"Available"),React.DOM.li({onClick:this.setIcon,"data-icon":"fa-dot-circle-o"},React.DOM.i({className:"fa fa-dot-circle-o"}),"Contacts Only"),React.DOM.li({onClick:this.setIcon,"data-icon":"fa-circle-o grey"},React.DOM.i({className:"fa fa-circle-o grey"}),"Do Not Disturb")),React.DOM.a({style:a,onClick:this.toggleInput},this.state.name),React.DOM.input({onKeyPress:this.checkKey,valueLink:this.linkState("name"),ref:"inputBox",style:b})),React.DOM.div({className:"action"},this.props.linkText))}})},{}],17:[function(a,b){Button=a("./Button.jsx"),b.exports=React.createClass({displayName:"exports",getDefaultProps:function(){return{username:STRINGS.loggedOutUsername,callingAsText:STRINGS.callingAs,editText:STRINGS.changeUsername,linkText:STRINGS.signIn}},onClick:function(){$(this.getDOMNode()).trigger("PanelGroup",{type:"toggle"})},render:function(){return React.DOM.div({className:"Header"},React.DOM.h6(null,this.props.callingAsText," ",React.DOM.span({className:"bold"},React.DOM.a(null,this.props.username)),"."),Button({text:STRINGS.newCallButton,style:"action",onClick:this.onClick}))}})},{"./Button.jsx":11}],18:[function(a,b){Button=a("./Button.jsx"),b.exports=React.createClass({displayName:"exports",getDefaultProps:function(){return{username:STRINGS.loggedOutUsername,callingAsText:STRINGS.callingAs,editText:STRINGS.changeUsername,linkText:STRINGS.signIn}},onClick:function(){$(this.getDOMNode()).trigger("PanelGroup",{type:"toggle"})},render:function(){return React.DOM.div({className:"Header"},React.DOM.h6({className:"right"},React.DOM.span({className:"bold"},React.DOM.a({"data-tip":"Click to change how your name appears",className:"tip"},this.props.username))))}})},{"./Button.jsx":11}],19:[function(a,b){SmallProfile=a("./SmallProfile.jsx"),b.exports=React.createClass({displayName:"exports",getInitialState:function(){return{numItems:10}},clearList:function(){this.setState({numItems:0})},render:function(){return React.DOM.div({className:"HistoryList"},React.DOM.div({className:"Header"},React.DOM.div(null,STRINGS.callHistory),React.DOM.div({onClick:this.clearList,className:"Button"},STRINGS.clearHistory)),React.DOM.ul({className:"CallHistory"},_.range(this.state.numItems).map(function(a){var b,c,d=_.random(0,_users.length-1),e=1===_.random(0,1)?"incoming":"outgoing",f=1===_.random(0,3)?"missed":"accepted";return b=React.DOM.i("missed"===f?{className:"fa fa-times-circle"}:{className:"fa fa-phone"}),c=React.DOM.i("incoming"===e?{"data-tip":"Incoming ("+f+")",className:"fa tip fa-arrow-right"}:{"data-tip":"Outgoing ("+f+")",className:"fa tip fa-arrow-left"}),React.DOM.li({key:"CallerHistory"+a,className:[e,f].join(" ")},c,SmallProfile({user:_users[d]}),React.DOM.div({className:"CallDetails right"},"May 3 4:32pm"))})))}})},{"./SmallProfile.jsx":40}],20:[function(a,b){BaseStateCorner=a("./BaseStateCorner.jsx"),Window=a("./Window.jsx"),VideoCall=a("./VideoCall.jsx"),b.exports=React.createClass({displayName:"exports",render:function(){return BaseStateCorner({name:this.props.name,index:this.props.index},Window({extraClass:"InCall",items:this.props.items,title:"Aubrey Drake Graham"},VideoCall(null)))}})},{"./BaseStateCorner.jsx":9,"./VideoCall.jsx":44,"./Window.jsx":45}],21:[function(a,b){BaseStateCorner=a("./BaseStateCorner.jsx"),Window=a("./Window.jsx"),AudioCall=a("./AudioCall.jsx"),b.exports=React.createClass({displayName:"exports",render:function(){return BaseStateCorner({name:this.props.name,index:this.props.index},Window({extraClass:"InCall",items:this.props.items,title:"Aubrey Drake Graham"},AudioCall(null)))}})},{"./AudioCall.jsx":6,"./BaseStateCorner.jsx":9,"./Window.jsx":45}],22:[function(a,b){Button=a("./Button.jsx"),b.exports=React.createClass({displayName:"exports",render:function(){return React.DOM.div({className:"IncomingCall"},React.DOM.div({className:"avatar"}),React.DOM.h3(null,"Aubrey Drake Graham"),React.DOM.div({className:"callTypeIcons"},React.DOM.i({className:"fa fa-microphone active"}),React.DOM.i({className:"fa fa-video-camera"})),React.DOM.div({className:"ButtonGroup"},Button({text:"Ignore ▾",style:"cancel"}),Button({text:"Answer",style:"action"})))}})},{"./Button.jsx":11}],23:[function(a,b){BaseStateCorner=a("./BaseStateCorner.jsx"),Window=a("./Window.jsx"),IncomingCall=a("./IncomingCall.jsx"),b.exports=React.createClass({displayName:"exports",render:function(){return BaseStateCorner({name:this.props.name,index:this.props.index},Window({items:this.props.items,title:"Call from Aubrey Drake Graham",type:""},IncomingCall(null)))}})},{"./BaseStateCorner.jsx":9,"./IncomingCall.jsx":22,"./Window.jsx":45}],24:[function(a,b){var c=React.createClass({displayName:"Invitation",render:function(){if(this.props.invite.isActive){var a={width:90*this.props.invite.completed+"%"};return React.DOM.li({className:"Invitation active"},React.DOM.h3(null,this.props.invite.email," ",React.DOM.small(null,"http://lo.op/8dj8d38")),React.DOM.div({className:"expiryInfo"},React.DOM.h5(null,React.DOM.small(null,"3:51pm May 12, 2014")),React.DOM.div(null,React.DOM.div({className:"progressWrapper"},React.DOM.div({className:"progressBar",style:a})),React.DOM.h5({className:"align-right"},React.DOM.i({className:"fa fa-clock-o"})," ",getTimeFromRange(this.props.invite.totalTime)," left."))),React.DOM.div({className:"icons right"},"Revoke Invitation"))}return React.DOM.li({className:"Invitation expired"},React.DOM.h3(null,this.props.invite.email),React.DOM.div({className:"expiryInfo"},React.DOM.h5(null,STRINGS.expired,".")))}});b.exports=React.createClass({displayName:"exports",render:function(){var a=_.sortBy(_.range(5).map(function(){var a=_.random(0,_users.length-1),b=1===_.random(0,3)?!1:!0,c=_.random(0,100),d=Math.random();return _.extend(_users[a],{totalTime:c,completed:d,isActive:b})}),function(a){return!a.isActive}),b=function(a,b){return c({key:"Invite"+b,invite:a})}.bind(this);return React.DOM.div({className:"InvitationList"},React.DOM.div({className:"Header"},React.DOM.div(null,STRINGS.invitationList)),React.DOM.ul({className:"Invitations"},a.map(b)))}})},{}],25:[function(a,b){BaseState=a("./BaseState.jsx"),TabBar=a("./TabBar.jsx"),Panel=a("./Panel.jsx"),InvitationList=a("./InvitationList.jsx"),b.exports=React.createClass({displayName:"exports",render:function(){return BaseState({name:this.props.name,index:this.props.index},TabBar({selected:this.props.tab}),Panel({items:this.props.items},InvitationList(null)))}})},{"./BaseState.jsx":8,"./InvitationList.jsx":24,"./Panel.jsx":30,"./TabBar.jsx":42}],26:[function(a,b){SpinnerView=a("./SpinnerView.jsx"),BackButton=a("./BackButton.jsx"),Button=a("./Button.jsx");var c=1e3;b.exports=React.createClass({displayName:"exports",mixins:[React.addons.LinkedStateMixin],getInitialState:function(){return{callDuration:15,hasLink:!1,gettingLink:!1,callName:""}},onClick:function(){if(""==this.state.callName)return void $(this.refs.callerNameInput.getDOMNode()).addClass("error").focus();var a=this;a.setState({gettingLink:!0}),this.timer=setTimeout(function(){a.setState({hasLink:!0,gettingLink:!1})},c)},componentDidUpdate:function(){""==this.state.callName||this.state.hasLink||this.state.gettingLink||$(this.refs.callerNameInput.getDOMNode()).removeClass("error")},goBack:function(){$(this.getDOMNode()).trigger("PanelGroup",{type:"back"}),this.cancelCall()},cancelCall:function(){clearTimeout(this.timer),this.setState({hasLink:!1,gettingLink:!1,callName:"",callDuration:15})},render:function(){return this.state.hasLink?React.DOM.div({className:"NewCallView"},BackButton({onClick:this.goBack}),React.DOM.h3(null,STRINGS.shareThisLinkWith," ",this.state.callName),React.DOM.input({value:STRINGS.sampleCallURL}),React.DOM.h5(null,React.DOM.i({className:"fa fa-clock-o"})," Expires in ",getTimeFromRange(this.state.callDuration)),React.DOM.div({className:"ButtonGroup"},Button({text:"Copy",style:"default"}),Button({text:"Share",style:"default"}),Button({onClick:this.cancelCall,text:"Cancel",style:"cancel"}))):this.state.gettingLink?React.DOM.div({className:"NewCallView"},BackButton({onClick:this.goBack}),React.DOM.h3({className:"center"},"Generating Invitation for ",this.state.callName),SpinnerView(null),Button({onClick:this.cancelCall,text:"Cancel",style:"cancel"})):React.DOM.div({className:"NewCallView"},BackButton({onClick:this.goBack}),React.DOM.h3(null,"New Invitation"),React.DOM.input({ref:"callerNameInput",valueLink:this.linkState("callName"),placeholder:STRINGS.callNamePlaceholder}),React.DOM.h5(null,React.DOM.i({className:"fa fa-clock-o"})," ",STRINGS.inviteExpireIn," ",getTimeFromRange(this.state.callDuration),"."),React.DOM.input({valueLink:this.linkState("callDuration"),type:"range",name:"time",min:"1",max:"100"}),Button({onClick:this.onClick,style:"action",text:STRINGS.getLinkText}))}})},{"./BackButton.jsx":7,"./Button.jsx":11,"./SpinnerView.jsx":41}],27:[function(a,b){SpinnerView=a("./SpinnerView.jsx"),Button=a("./Button.jsx");b.exports=React.createClass({displayName:"exports",mixins:[React.addons.LinkedStateMixin],getInitialState:function(){return{callDuration:15,callName:STRINGS.callNamePlaceholder,isCustomizing:!1,copyText:"Copy",customizeText:"Customize",arrow:"▸"}},onClick:function(){$(this.refs.customizePanel.getDOMNode()).toggleClass("opened"),this.setState({isCustomizing:!this.state.isCustomizing})},componentDidUpdate:function(){""!=this.state.callName&&$(this.refs.callerNameInput.getDOMNode()).removeClass("error")},cancelCall:function(){clearTimeout(this.timer),this.setState({isCustomizing:!1,callName:"",callDuration:15})},copied:function(){this.setState({copyText:"Copied!"})},render:function(){return React.DOM.div({className:"NewCallView Quick"},React.DOM.h3(null,"Share this link to invite someone to talk:"),React.DOM.div({className:"inputControls"},React.DOM.input({value:STRINGS.sampleCallURL}),React.DOM.span({onClick:this.onClick},React.DOM.i({className:"fa fa-cog "+this.state.isCustomizing}))),React.DOM.p({className:"label"},React.DOM.i({className:"fa fa-tag"})," ",this.state.callName," ",React.DOM.small(null,"(What is this?)")),React.DOM.div({className:"Customize",ref:"customizePanel"},React.DOM.h5(null,"Invitation Name"),React.DOM.input({ref:"callerNameInput",valueLink:this.linkState("callName")}),React.DOM.h5(null,React.DOM.i({className:"fa fa-clock-o"})," ",STRINGS.inviteExpireIn," ",getTimeFromRange(this.state.callDuration),"."),React.DOM.input({valueLink:this.linkState("callDuration"),type:"range",name:"time",min:"1",max:"100"})),React.DOM.div({className:"ButtonGroup"},Button({text:"Share",style:"default"}),Button({text:this.state.copyText,onClick:this.copied,style:"default"})))}})},{"./Button.jsx":11,"./SpinnerView.jsx":41}],28:[function(a,b){Button=a("./Button.jsx"),b.exports=React.createClass({displayName:"exports",getInitialState:function(){return{isConnecting:!0,states:["connecting","ringing","failed"],currentState:0}},componentDidMount:function(){setInterval(function(){var a=this.state.currentState;a+=1,a>this.state.states.length-1&&(a=0),this.setState({currentState:a})}.bind(this),4e3)},render:function(){var a=this.state.states[this.state.currentState];return"connecting"==a?React.DOM.div({className:"OutgoingCall"},React.DOM.div({className:"avatar"}),React.DOM.h3(null,"Kanye West"),React.DOM.div({className:"loading"}),React.DOM.h6(null,"Connecting..."),React.DOM.div({className:"ButtonGroup"},Button({text:"Cancel",style:"default"}))):"ringing"==a?React.DOM.div({className:"OutgoingCall"},React.DOM.div({className:"avatar"}),React.DOM.h3(null,"Kanye West"),React.DOM.div({className:"loading"}),React.DOM.h6(null,"Ringing..."),React.DOM.div({className:"ButtonGroup"},Button({text:"Cancel",style:"default"}))):"failed"==a?React.DOM.div({className:"OutgoingCall"},React.DOM.div({className:"avatar"}),React.DOM.h3(null,"Kanye West"),React.DOM.div({className:"loading failed"}),React.DOM.h6(null,"Call Failed"),React.DOM.div({className:"ButtonGroup"},Button({text:"Cancel",style:"default"}),Button({text:"Retry",style:"action"}))):void 0}})},{"./Button.jsx":11}],29:[function(a,b){BaseStateCorner=a("./BaseStateCorner.jsx"),Window=a("./Window.jsx"),OutgoingCall=a("./OutgoingCall.jsx"),b.exports=React.createClass({displayName:"exports",render:function(){return BaseStateCorner({name:this.props.name,index:this.props.index},Window({items:this.props.items,title:"Kanye West",type:""},OutgoingCall(null)))}})},{"./BaseStateCorner.jsx":9,"./OutgoingCall.jsx":28,"./Window.jsx":45}],30:[function(a,b){b.exports=React.createClass({displayName:"exports",render:function(){return React.DOM.div({className:"Panel "+this.props.extraClass},this.props.children)}})},{}],31:[function(a,b){_animationDefaults=a("../utils/defaults.js").animation,b.exports=React.createClass({displayName:"exports",getInitialState:function(){return{isMoved:!1}},slideTo:function(a){$(this.refs.slider.getDOMNode()).velocity({translateX:a},_animationDefaults)},toggle:function(){this.slideTo(this.state.isMoved?0:"-48%"),this.setState({isMoved:!this.state.isMoved})},componentDidMount:function(){var a=this;$(this.getDOMNode()).on("PanelGroup",function(b,c){switch(c.type){case"toggle":a.toggle();break;case"back":a.slideTo(0),a.setState({isMoved:!1})}})},componentWillUnmount:function(){$(this.getDOMNode()).off("PanelGroup::toggle")},render:function(){var a=this.state.isMoved?"moved":null,b=["PanelGroup",a].join(" ");return React.DOM.div({className:b},React.DOM.div({ref:"slider",className:"PanelGroupInner"},this.props.children))}})},{"../utils/defaults.js":4}],32:[function(a,b){BaseState=a("./BaseState.jsx"),PanelGroup=a("./PanelGroup.jsx"),TabBar=a("./TabBar.jsx"),Panel=a("./Panel.jsx"),Header=a("./Header.jsx"),Footer=a("./Footer.jsx"),NewCallView=a("./NewCallView.jsx"),b.exports=React.createClass({displayName:"exports",render:function(){return BaseState({name:this.props.name,index:this.props.index},TabBar({selected:this.props.tab}),PanelGroup(null,Panel({items:this.props.items},Header({username:STRINGS.loggedOutUsername,editText:STRINGS.changeUsername,slideTo:this.props.slideTo}),Footer({linkText:STRINGS.signIn})),Panel({items:this.props.items},NewCallView(null))))}})},{"./BaseState.jsx":8,"./Footer.jsx":16,"./Header.jsx":17,"./NewCallView.jsx":26,"./Panel.jsx":30,"./PanelGroup.jsx":31,"./TabBar.jsx":42}],33:[function(a,b){BaseState=a("./BaseState.jsx"),TabBar=a("./TabBar.jsx"),Panel=a("./Panel.jsx"),HeaderQuick=a("./HeaderQuick.jsx"),NewCallViewQuick=a("./NewCallViewQuick.jsx"),Footer=a("./Footer.jsx"),b.exports=React.createClass({displayName:"exports",render:function(){return BaseState({name:this.props.name,index:this.props.index},TabBar({selected:this.props.tab}),Panel({extraClass:"LegalPanel",items:this.props.items},React.DOM.div({className:"Legal"},React.DOM.p(null,"By proceeding, you accept the ",React.DOM.a({href:"https://accounts.firefox.com/en-us/legal/terms"},"Terms and Services")," and ",React.DOM.a({href:"https://accounts.firefox.com/en-us/legal/privacy"},"Privacy Notice"),"."),Button({text:"OK",style:"default"})),NewCallViewQuick(null),Footer({linkText:STRINGS.signIn,username:STRINGS.loggedOutUsername})))}})},{"./BaseState.jsx":8,"./Footer.jsx":16,"./HeaderQuick.jsx":18,"./NewCallViewQuick.jsx":27,"./Panel.jsx":30,"./TabBar.jsx":42}],34:[function(a,b){BaseState=a("./BaseState.jsx"),TabBar=a("./TabBar.jsx"),Panel=a("./Panel.jsx"),HeaderQuick=a("./HeaderQuick.jsx"),NewCallViewQuick=a("./NewCallViewQuick.jsx"),Footer=a("./Footer.jsx"),b.exports=React.createClass({displayName:"exports",render:function(){return BaseState({name:this.props.name,index:this.props.index},TabBar({selected:this.props.tab}),Panel({items:this.props.items},NewCallViewQuick(null),Footer({linkText:STRINGS.signIn,username:STRINGS.loggedOutUsername})))}})},{"./BaseState.jsx":8,"./Footer.jsx":16,"./HeaderQuick.jsx":18,"./NewCallViewQuick.jsx":27,"./Panel.jsx":30,"./TabBar.jsx":42}],35:[function(a,b){BaseState=a("./BaseState.jsx"),PanelGroup=a("./PanelGroup.jsx"),TabBar=a("./TabBar.jsx"),Panel=a("./Panel.jsx"),Header=a("./Header.jsx"),Footer=a("./Footer.jsx"),NewCallView=a("./NewCallView.jsx"),b.exports=React.createClass({displayName:"exports",render:function(){return BaseState({name:this.props.name,index:this.props.index},TabBar({selected:this.props.tab}),PanelGroup(null,Panel({items:this.props.items},Header({username:STRINGS.loggedInUsername,editText:STRINGS.viewAccount}),BuddyList({items:this.props.items}),Footer({linkText:STRINGS.signOut})),Panel({items:this.props.items},NewCallView(null))))}})},{"./BaseState.jsx":8,"./Footer.jsx":16,"./Header.jsx":17,"./NewCallView.jsx":26,"./Panel.jsx":30,"./PanelGroup.jsx":31,"./TabBar.jsx":42}],36:[function(a,b){BaseState=a("./BaseState.jsx"),TabBar=a("./TabBar.jsx"),Panel=a("./Panel.jsx"),HeaderQuick=a("./HeaderQuick.jsx"),Footer=a("./Footer.jsx"),NewCallView=a("./NewCallView.jsx"),b.exports=React.createClass({displayName:"exports",render:function(){return BaseState({name:this.props.name,index:this.props.index},TabBar({selected:this.props.tab}),Panel({extraClass:"Contacts",items:this.props.items},NewCallViewQuick(null),BuddyList({items:this.props.items}),Footer({linkText:STRINGS.signOut,username:STRINGS.loggedInUsername})))}})},{"./BaseState.jsx":8,"./Footer.jsx":16,"./HeaderQuick.jsx":18,"./NewCallView.jsx":26,"./Panel.jsx":30,"./TabBar.jsx":42}],37:[function(a,b){b.exports=React.createClass({displayName:"exports",getInitialState:function(){var a=Math.random()>.5?"Video call":"Audio call",b=moment().subtract("minutes",6e3*Math.random()),c="Video call"===a?"fa-video-camera":"fa-phone";return{isDropdownVisible:!1,callType:a,callIcon:c,callTime:b}},onClick:function(){this.props.onClick(this.props.key)},hideDropdown:function(){$(this.refs.callDropdown.getDOMNode()).hide(),this.setState({isDropdownVisible:!1})},toggleDropdown:function(){this.state.isDropdownVisible?$(this.refs.callDropdown.getDOMNode()).hide():$(this.refs.callDropdown.getDOMNode()).show(),this.setState({isDropdownVisible:!this.state.isDropdownVisible})},render:function(){return React.DOM.div({onClick:this.onClick,className:["Profile",this.props.selected].join(" ")},React.DOM.div({className:"avatar user-"+this.props.user.index}),React.DOM.div({className:"details"},React.DOM.div({className:"username"},this.props.user.name," ",React.DOM.i({className:this.props.user.isGoogle?"fa fa-google":""})),React.DOM.div({className:"email"},React.DOM.i({className:"fa "+this.state.callIcon}),this.state.callTime.calendar())),React.DOM.div({className:"icons",onClick:this.toggleDropdown},React.DOM.i({className:"fa fa-video-camera"}),React.DOM.i({className:"fa fa-caret-down"})),React.DOM.ul({ref:"callDropdown",onMouseLeave:this.hideDropdown,className:"Dropdown"},React.DOM.li(null,React.DOM.i({className:"fa fa-video-camera"}),"Video Call"),React.DOM.li(null,React.DOM.i({className:"fa fa-phone"}),"Audio Call"),React.DOM.li({onClick:this.props.onClickEdit},React.DOM.i({className:"fa fa-user"}),"Edit Contact..."),React.DOM.li(null,React.DOM.i({className:"fa fa-trash-o"}),"Remove Contact")))}})},{}],38:[function(a,b){b.exports=React.createClass({displayName:"exports",getInitialState:function(){return{isDropdownVisible:!1}
},onClick:function(){this.props.onClick(this.props.key)},hideDropdown:function(){$(this.refs.callDropdown.getDOMNode()).hide(),this.setState({isDropdownVisible:!1})},toggleDropdown:function(){this.state.isDropdownVisible?$(this.refs.callDropdown.getDOMNode()).hide():$(this.refs.callDropdown.getDOMNode()).show(),this.setState({isDropdownVisible:!this.state.isDropdownVisible})},render:function(){return React.DOM.div({onClick:this.onClick,className:["Profile",this.props.selected].join(" ")},React.DOM.div({className:"avatar user-"+this.props.user.index}),React.DOM.div({className:"details"},React.DOM.div({className:"username"},this.props.user.name," ",React.DOM.i({className:this.props.user.isGoogle?"fa fa-google":""})),React.DOM.div({className:"email"},this.props.user.email)),React.DOM.div({className:"icons",onClick:this.toggleDropdown},React.DOM.i({className:"fa fa-video-camera"}),React.DOM.i({className:"fa fa-caret-down"})),React.DOM.ul({ref:"callDropdown",onMouseLeave:this.hideDropdown,className:"Dropdown"},React.DOM.li(null,React.DOM.i({className:"fa fa-video-camera"}),"Video Call"),React.DOM.li(null,React.DOM.i({className:"fa fa-phone"}),"Audio Call"),React.DOM.li({onClick:this.props.onClickEdit},React.DOM.i({className:"fa fa-user"}),"Edit Contact..."),React.DOM.li(null,React.DOM.i({className:"fa fa-trash-o"}),"Remove Contact")))}})},{}],39:[function(a,b){b.exports=React.createClass({displayName:"exports",render:function(){return React.DOM.div({className:"SearchBarWrapper"},React.DOM.input({ref:"searchInput",className:"SearchBar",value:this.props.val,onChange:this.props.handleChange,placeholder:STRINGS.searchPlaceholder}))}})},{}],40:[function(a,b){b.exports=React.createClass({displayName:"exports",onClick:function(){this.props.onClick(this.props.key)},render:function(){return React.DOM.div({onClick:this.onClick,className:["SmallProfile","Profile",this.props.selected].join(" ")},React.DOM.div({className:"avatar user-"+this.props.user.index}),React.DOM.div({className:"details"},React.DOM.div({className:"username"},this.props.user.name),React.DOM.div({className:"email"},this.props.user.email)))}})},{}],41:[function(a,b){b.exports=React.createClass({displayName:"exports",componentDidMount:function(){{var a=this.getDOMNode();new Spinner({color:"#999",width:4,lines:13,corners:1,trail:60}).spin(a)}},render:function(){return React.DOM.div({className:"SpinnerView"})}})},{}],42:[function(a,b){b.exports=React.createClass({displayName:"exports",render:function(){return React.DOM.ul({className:"TabBar"},React.DOM.li({className:0===this.props.selected?"active tip":"tip","data-tip":"Call Tab"},React.DOM.a({href:"#precall"},React.DOM.i({className:"fa fa-phone"}))),React.DOM.li({className:1===this.props.selected?"active tip":"tip","data-tip":"Call History Tab"},React.DOM.a({href:"#callhistory"},React.DOM.i({className:"fa fa-clock-o"}))),React.DOM.li({className:2===this.props.selected?"active tip":"tip","data-tip":"Contacts"},React.DOM.a({href:"#contacts"},React.DOM.i({className:"fa fa-book"}))))}})},{}],43:[function(a,b){b.exports=React.createClass({displayName:"exports",render:function(){var a=function(a){return React.DOM.a({href:"#"+a.slug},a.name)}.bind(this);return React.DOM.div({ref:"container",className:"TableOfContents"},this.props.items.map(a))}})},{}],44:[function(a,b){CallControls=a("./CallControls.jsx"),b.exports=React.createClass({displayName:"exports",render:function(){return React.DOM.div({className:"VideoCall"},CallControls(null),React.DOM.div({className:"VideoScreen"},React.DOM.div({className:"VideoScreenInner"})))}})},{"./CallControls.jsx":12}],45:[function(a,b){var c=React.createClass({displayName:"WindowTitlebar",render:function(){return React.DOM.div({className:"WindowTitlebar "+this.props.type},React.DOM.h5(null,this.props.title),React.DOM.div({className:"WindowControls"}))}});b.exports=React.createClass({displayName:"exports",render:function(){return React.DOM.div({className:"Window "+this.props.extraClass},c({title:this.props.title,type:this.props.type}),React.DOM.div({className:"WindowBody"},this.props.children))}})},{}]},{},[1]);